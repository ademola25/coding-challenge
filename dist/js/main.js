window.addEventListener("load",e=>{if(window.File&&window.FileReader&&window.FileList&&window.Blob){document.getElementById("file_input_id").addEventListener("change",handleFileSelect,!1);var t=document.getElementById("dragAndDrop");t.addEventListener("dragover",handleDragOver,!1),t.addEventListener("drop",handleFileSelect,!1)}else alert("The File APIs are not fully supported in this browser.")}),handleFileSelect=(e=>{var t;if(e.stopPropagation(),e.preventDefault(),e.dataTransfer)t=e.dataTransfer.files;else{if(!e.target)return;t=e.target.files}for(var r=[],a=["ai","doc","jpg","pdf","png","psd","xls"],n=0;p=t[n];n++){var l=p.name.split(".").pop();if(-1!==a.indexOf(l)){var s=document.createElement("div");s.className="input-container-"+n;var i=document.createElement("img");i.className="img-"+l+" svg",i.src="/img/icon-file-"+l+".svg";var d=document.createElement("img");d.id="status-"+n,d.className="status svg inprogress",d.src="/img/icon-close.svg";var o=document.createElement("li"),c=document.createElement("input");c.type="text",c.setAttribute("value",escape(p.name)),c.className="fileName-"+n,o.appendChild(c),s.appendChild(i),s.appendChild(o),s.appendChild(d),r.push(s.outerHTML)}else alert("These file extensions are not allowed in our File Uploader!")}document.getElementById("list").innerHTML="<ul>"+r.join("")+"</ul>",replaceSVG();var p,m=[];for(n=0;p=t[n];n++){m.push(function(e,t){return function(r){var a=new FileReader,n=document.querySelector(".input-container-"+e+" li"),l=document.getElementById("status-"+e),s=document.createElement("div");s.id="progress-bar-"+e,s.className="progress_bar";var i=document.createElement("div");i.className="percent",s.appendChild(i),i.style.width="0%",n.appendChild(s),a.onloadstart=function(e){s.className="progress_bar loading"},a.onload=function(e){i.style.width="100%",i.style.opacity="0",s.className="progress_bar";var t=(l=document.getElementById(l.id)).parentElement;t.querySelector('[class^="fileName-"]').style.opacity=1,t.querySelector('[class^="img-"]').style.opacity=1,l.remove();var a=document.createElement("img");a.id=l.id,a.src="/img/icon-check.svg",a.className="status svg completed",t.appendChild(a),replaceSVG(),r()},updateProgress=(e=>{if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);t<100&&(i.style.width=t+"%")}}),errorHandler=(e=>{switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case e.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case e.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}r()}),a.onerror=errorHandler,a.onprogress=updateProgress,a.readAsBinaryString(t)}}(n,p))}async.waterfall(m)}),replaceSVG=(()=>{jQuery("img.svg").each(function(){var e=jQuery(this),t=e.attr("id"),r=e.attr("class"),a=e.attr("src");jQuery.get(a,function(a){var n=jQuery(a).find("svg");void 0!==t&&(n=n.attr("id",t)),void 0!==r&&(n=n.attr("class",r+" replaced-svg")),n=n.removeAttr("xmlns:a"),e.replaceWith(n)},"xml")})}),handleDragOver=(e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"});